<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- head 中 -->
    <link rel="stylesheet" href="css/materialize.min.css">
    <title>参数设置</title>
</head>
<body style="margin-left: 2px;margin-right: 2px" >
<div class="input-field col s12">

    <div class="card-panel" style="margin-left: 10px;margin-right: 10px">
        <span class="blue-text text-darken-2">功能选择</span>

    <p>
        <label>
            <input name="radio" class="with-gap" type="radio" checked id="dk"/>
            <span>打卡小程序</span>
        </label>
    </p>
    <p>
        <label>
            <input name="radio" class="with-gap" type="radio" id="ys"/>
            <span>影视小程序</span>
        </label>
    </p>
    <p>
        <label>
            <input name="radio" class="with-gap" type="radio" checked id="pc"/>
            <span>视一视评测</span>
        </label>
    </p>
    <p>
        <label>
            <input name="radio" class="with-gap" type="radio" id="sp"/>
            <span>视一视视频</span>
        </label>
    </p>




</div>

</div>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<!--<br/>-->
<!--<br/>-->

<div class="row">

    <div class="col s6">
        <button class="btn waves-effect waves-light " type="button" name="action" onclick="javascript:save()">保存配置
        </button>
    </div>

<!--    <div class="col s6">-->
<!--        <button class="btn waves-effect waves-light" type="button" name="action" onclick="javascript:window.ec.start()">-->
<!--            启动脚本-->
<!--        </button>-->
<!--    </div>-->

</div>

<script src="htmljs/jquery.min.js"></script>
<script src="htmljs/materialize.min.js"></script>

</body>

<script>
    $(function () {

        //使用jquery进行设置值
        //取得参数并且进行设置
        let pc = window.ec.getConfig("pc"); // 视一视评测
        if (pc === "true") {
            $("#pc").attr("checked", "checked");
        }
        let sp = window.ec.getConfig("sp"); // 视一视之视频
        if (sp === "true") {
            $("#sp").attr("checked", "checked");
        }
        let dk = window.ec.getConfig("dk"); //小程序打卡
        if (dk === "true") {
            $("#dk").attr("checked", "checked");
        }
        let ys = window.ec.getConfig("ys"); //小程序影视
        if (ys === "true") {
            $("#ys").attr("checked", "checked");
        }

        // window.ec.hideStartBtn(); //隐藏开始按钮
        window.ec.displayStartBtn() //显示开始按钮

    });


    //保存参数的函数
    function save() {

        window.ec.saveConfig("pc", $("#pc").prop("checked"));
        window.ec.saveConfig("sp", $("#sp").prop("checked"));
        window.ec.saveConfig("dk", $("#dk").prop("checked"));
        window.ec.saveConfig("ys", $("#ys").prop("checked"));
        window.ec.toast("当前配置保存成功");
    }

</script>

</html>